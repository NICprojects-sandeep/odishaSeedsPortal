<div class="page-header" style="height: 123px;">
    <div class="page-block">
        <div class="row align-items-center">
            <div class="col-md-8">
                <div class="page-header-title">
                    <h5 class="m-b-10">Farmer Sale</h5>
                    <p class="m-b-0">Dealer/PACS selling to farmer</p>
                </div>
            </div>
            <div class="col-md-4">
                <ul class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="index.html"> <i class="fa fa-home"></i> </a>
                    </li>
                    <li class="breadcrumb-item"><a>Farmer Invoice</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="page-body">
    <br>
    <style type="text/css">
        table {
            width: 100%;
            border-collapse: collapse;
        }


        h1,
        h4 {
            text-align: center;
        }

        span {
            float: right;
        }

        @media print {
            @page {
                size: A4 portrait;
                max-height: 100%;
                max-width: 100%;
                zoom: 0.1%;
                margin: 0;
                size: auto;
            }

            body {
                width: 100%;
                height: 100%;
                transform: scale(0.9);
            }
        }
    </style>
    <!-- *ngIf="printPage" -->
    <div class="container-fluid">
        <div class="container-fluid">
            <div class="card">
                <br>
                <div class="container-fluid" id="print-section">
                    <div class="row">
                        <div class="col-md-5 col-sm-5 col-xs-5">

                        </div>
                        <div class="col-md-2 col-sm-1 col-xs-2">
                            <h1>INVOICE</h1>
                        </div>
                        <div class="col-md-2 col-sm-1 col-xs-3"></div>
                    </div>
                    <h4>Stock Delivered from {{LicNo}}({{deliveredFrom}})</h4>
                    <span style="float: left;">
                        Transaction ID- <b>{{TRANSACTION_ID}}</b><br>
                    </span>

                    <span>
                        Delivered Date-<b>{{todateDate | date:'dd/MM/yyyy'}}</b><br>
                    </span>
                    <br>
                    <br>
                    <hr>
                    <table class="table-borderless" style="margin-right: 4px;">
                        <b>Seed Delivered To</b><br>
                        <tbody>
                            <tr>
                                <td align="left" width="150">Name</td>
                                <td align="center" width="20">:</td>
                                <td align="left">{{farmerName}}</td>
                            </tr>
                            <tr>
                                <td align="left" width="150">Father's Name</td>
                                <td align="center" width="20">:</td>
                                <td align="left">{{FathersName}}</td>
                            </tr>
                            <tr>
                                <td align="left" width="150">Mobile Number</td>
                                <td align="center" width="20">:</td>
                                <td align="left">{{MobileNumber}}</td>
                            </tr>
                            <tr>
                                <td align="left" width="150">Village</td>
                                <td align="center" width="20">:</td>
                                <td align="left">{{Village}}</td>
                            </tr>
                            <tr>
                                <td align="left" width="150">GP</td>
                                <td align="center" width="20">:</td>
                                <td align="left">{{GP}}</td>
                            </tr>
                            <tr>
                                <td align="left" width="150">Block</td>
                                <td align="center" width="20">:</td>
                                <td align="left">{{Block}}</td>
                            </tr>
                            <tr>
                                <td align="left" width="150">Dist</td>
                                <td align="center" width="20">:</td>
                                <td align="left">{{Dist}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <br><br>
                    <b>Delivery Details:-</b><br>
                    <table style="text-align: center;">
                        <thead>
                            <tr>
                                <th style="border: solid 1px black;">sl no.</th>
                                <th style="border: solid 1px black;">Crop Name</th>
                                <th style="border: solid 1px black;">Crop Variety</th>
                                <th style="border: solid 1px black;">Source</th>
                                <th style="border: solid 1px black;">Lot No.</th>
                                <th style="border: solid 1px black;">No.of Bags</th>
                                <th style="border: solid 1px black;">Bag size(in kg.)</th>
                                <th style="border: solid 1px black;">Quantity(in Qtl.)</th>
                                <th style="border: solid 1px black;">Price/Qtl</th>
                                <th style="border: solid 1px black;">Total Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let y of GetFarmerDtl ; let i = index">
                                <td style="border: solid 1px black;">{{ i + 1 }}</td>
                                <td style="border: solid 1px black;">{{y.Crop_Name}}</td>
                                <td style="border: solid 1px black;">{{y.Variety_Name}}</td>
                                <td style="border: solid 1px black;">NSC LTD. {{y.Receive_Unitname}}</td>
                                <td style="border: solid 1px black;">{{y.LOT_NUMBER}}</td>
                                <td style="border: solid 1px black;">{{y.NO_OF_BAGS}}</td>
                                <td style="border: solid 1px black;">{{y.BAG_SIZE_KG}}</td>
                                <td style="border: solid 1px black;">{{y.TOT_QTL}}</td>
                                <td style="border: solid 1px black;">{{y.PRICE_QTL}}</td>
                                <td style="border: solid 1px black;">{{y.ALL_IN_COST_AMOUNT}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <br>
                    <br>
                    <div class="container-fluid">
                        <div class="container-fluid">
                            <div class="row" *ngIf="mode == 'Still pending' || mode == 'Pending for Reconciliation' ">
                                <table style="text-align: center; width: 100%; border-collapse: collapse;">
                                    <thead>
                                        <tr>
                                            <th style="border: solid 1px black; text-align: center;" colspan="2">Subsidy
                                                Mode e-RUPI</th>
                                            <th style="border: solid 1px black; text-align: center;" colspan="2">Subsidy
                                                Mode DBT(PFMS)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="border: solid 1px black;">
                                                Total amount
                                            </td>
                                            <td style="border: solid 1px black;">
                                                {{TOT_AMT| number:'1.2-2'}}
                                            </td>
                                            <td style="border: solid 1px black;">
                                                Total amount
                                            </td>
                                            <td style="border: solid 1px black;">
                                                {{TOT_AMT | number:'1.2-2'}}
                                            </td>
                                        </tr>

                                        <tr>
                                            <td style="border: solid 1px black;">
                                                The dealer will redeem your subsidy amount
                                            </td>
                                            <td style="border: solid 1px black;">
                                                {{SUB_AMT | number:'1.2-2'}}
                                            </td>
                                            <td style="border: solid 1px black;">
                                                The subsidy will be transferred to your account

                                            </td>
                                            <td style="border: solid 1px black;">
                                                {{SUB_AMT | number:'1.2-2'}}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="border: solid 1px black;">
                                                Amount To be paid 
                                            </td>
                                            <td style="border: solid 1px black;">
                                                {{TOT_AMT - SUB_AMT | number:'1.2-2'}}
                                            </td>
                                            <td style="border: solid 1px black;">
                                                Amount to be paid
                                            </td>
                                            <td style="border: solid 1px black;">
                                                {{TOT_AMT | number:'1.2-2'}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>



                    <!-- <div class="row">
                        <div class="col-md-7 col-sm-7 col-xs-6">gfg</div>
                        <div class="col-md-5 col-sm-5 col-xs-5"> 
                                Total Amount-<b>{{TOT_AMT}}</b><br>
                                Subsidy Amount-<b>{{SUB_AMT}}</b><br></div>
    
                    </div>
    
                    <div class="row">
                        <div class="col-md-5 col-sm-5 col-xs-5">
    
                        </div>
                        <div class="col-md-2 col-sm-1 col-xs-2">
                            Total Amount-<b>{{TOT_AMT}}</b><br>
                            Subsidy Amount-<b>{{SUB_AMT}}</b><br>
                        </div>
                        <div class="col-md-2 col-sm-1 col-xs-3"></div>
                    </div> -->
                    <!-- original start 03-06-2024 -->
                    <!-- <span style="float: left;  margin-left:70%;margin-bottom: 40px;">
                        <div>
                            Total Amount-<b>{{TOT_AMT}}</b><br>
                            Subsidy Amount-<b>{{SUB_AMT}}</b><br>
                        </div>
                        <div *ngIf="Prebookedamount > 0">
                            Prebooking Amount-<b>{{Prebookedamount}}</b><br>
                            Total amount Payble-<b>{{totalPaybleamount}}</b><br>
                        </div>

                    </span> -->
                    <!-- original end -->
                    <span style="float: left;  margin-left:70%;margin-bottom: 40px;">
                        <div  *ngIf="mode == 'DBT Mode' || mode == 'Switch to dbt mode' ">
                            Total Amount-<b>{{TOT_AMT | number:'1.2-2'}}</b><br>
                            The subsidy will be transferred to your account-<b>{{SUB_AMT | number:'1.2-2'}}</b><br>
                            Amount to be paid-<b>{{TOT_AMT | number:'1.2-2'}}</b><br>

                        </div>
                        <div  *ngIf="mode == 'e-rupi mode'">
                            Total Amount-<b>{{TOT_AMT | number:'1.2-2'}}</b><br>
                            The dealer will redeem your subsidy amount-<b>{{SUB_AMT | number:'1.2-2'}}</b><br>
                            Amount to be paid-<b>  {{TOT_AMT - SUB_AMT | number:'1.2-2'}}</b><br>

                        </div>
                    </span> 
                    <br>
                    <br>
                    <br>
                    <br>
                    <span style="float: left;">
                        Signature of <b>{{farmerName}}</b>
                    </span>

                    <span style="text-align: center;">
                        Signature of <b>{{deliveredFrom}}</b> <br>
                        ({{LicNo}})
                    </span><br><br><br>

                    <div class="row" style="margin-top: 20px;"
                        *ngIf="mode == 'DBT Mode' || mode == 'Switch to dbt mode' ">
                        <br>
                        <div class="col-md-12" style="text-align: center;">
                            **The subsidy amount will be credited to your account number {{STARVCHACCOUNTNO}} of
                            {{vchBankName}}.
                        </div>


                    </div>
                    <div class="row" style="margin-top: 20px;" *ngIf="mode == 'e-rupi mode'">
                        <br>
                        <div class="col-md-12" style="text-align: center;">
                            **Subsidy amount of Rs. {{SUB_AMT}} has been disbursed as e-RUPI voucher to the farmer's
                            mobile number and has been successfully redeemed by the dealer.
                        </div>


                    </div>
                </div>

                <br>
                <br>
                <div class="row">
                    <div class="col-md-5 col-sm-5 col-xs-12">

                    </div>
                    <div class="col-md-3 col-sm-3 col-xs-12">
                        <button type="button" class="btn btn-primary btn-md waves-effect waves-light"
                            [useExistingCss]="true" printTitle="Sale Report of &nbsp; {{farmerName}}"
                            printSectionId="print-section" ngxPrint
                            styleSheetFile="assets/css/custom1.css,assets/css/custom2.css">
                            <i class="icofont icofont-print"></i> Print</button> &nbsp;
                        <!-- <button type="button" class="btn btn-primary btn-md waves-effect waves-light" (click)="newSale()">
                             New sale</button> -->
                    </div>
                    <div class="col-md-2 col-sm-1 col-xs-12"></div>


                    <br>
                </div>

                <br>
            </div>

        </div>
    </div>
</div>